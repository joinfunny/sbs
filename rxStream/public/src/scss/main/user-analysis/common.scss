@import "../../../scss/base";

@include reset;
$box-shadow: 1px 1px 8px rgba(0, 0, 0, .1);
%transition {
  @include transition(all .38s ease-out 0s);
}

%transition-quick {
  @include transition(all .2s ease-out 0s);
}

%transition-none {
  @include transition(none);
}

%box-shadow {
  @include box-shadow($box-shadow);
}

%icon-32 {
  @include icon(32px);
}

%icon-16 {
  @include icon(16px);
}

%icon-12 {
  @include icon(12px);
}

$body-bgc: #f4f7f9;
$link-color: #1C9FE8;
%bottom-triangle {
  border-style: solid;
  border-width: 6px 8px 0 8px;
  border-color: #eee transparent transparent transparent;
}

$color: #787878;
$green-color: #28D09A;

//-------------------------------------------------------------
//新版色值
$f-color-red: #5082ad;
$f-color-green: #4abdb8;
$f-color-blue: #5082ad;
//线条颜色
$f-color-line: #dce2e7;
// 左侧列表背景色+标题背景色+标题色
$f-color-left: #e3e8f0 #d4d9e1 #8b96a6;
//条件拖动按钮色
$f-color-btn: #fafafa #ebebeb;
//中间顶部色
$f-color-top: #e9edf1;
$f-color-top-font: #212121;
//-------------------------------------------------------------

html, body {
  width: 100%;
  height: 100%;
}

body {
  background-color: $body-bgc;
  font-family: $font-family-zh;
  color: $color;
  overflow: hidden;
}

label {
  margin: auto;
}

:focus {
  outline: none;
}

button * {
  pointer-events: none;
}

///**/
$panel-border: 1px solid #DCDCDC;
$box-border: 1px solid #D2D2D2;
$border1: 1px solid #f4f7f9;
$header-height: 55px;
$panel-bgc: #F5F5F5;
$panel-h-height: 44px;
$left-width: 160px;
$left-bgc: #4f5b6e;
$right-width: 160px;
$bottom-height: 185px;
$h-height: 34px;
$top-height: 54px;
$h-box-shadow: 0px 1px 3px rgba(0, 0, 0, .1);
.panel-analysis-wrapper {
  position: absolute;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

.panel-h {
  @extend %text-ellipsis;
  height: $h-height;
  line-height: $h-height - 2;
  text-indent: 16px;
  font-size: 12px;
  white-space: nowrap;
}

/* 左侧面板 */
.panel-left {
  @extend %fixed-full;
  right: auto;
  width: $left-width;
  background: #FFF;
  border-right: 1px solid $f-color-line;
  .panel-h {
    height: $panel-h-height;
    line-height: $panel-h-height;
    background: #e9edf1;
    text-indent: 0px;
    font-size: 12px;
    text-align: center;
    color: #212121;
    font-weight: 300;
    border-bottom: 1px solid $f-color-line;
  }
  .panel-left-top {
    height: $top-height;
    text-align: center;
  }
  .handle-list {
    li {
      @include inline-block;
      margin: 10px 4px;
    }
    .icon-back {
      @extend %icon-32;
      background-image: url(../../img/main/icon-back.png);
      &:hover {
        @include opacity(.8);
      }
    }
    .icon-reset {
      @extend %icon-32;
      background-image: url(../../img/main/icon-reset.png);
      &:hover {
        @include opacity(.8);
      }
    }
    .icon-save {
      @extend %icon-32;
      background-image: url(../../img/main/icon-save.png);
      &:hover {
        @include opacity(.8);
      }
    }
  }
  /* 用户行为 */
  .panel-user-events {
    @extend %abs-full;
  }
}

/* 开关按钮 */
%btn-toggle {
  padding: 0 10px 0 10px;
  height: 28px;
  background-color: $f-color-red;
  line-height: 26px;
  text-align: center;
  color: #fff;
  font-size: 12px;
  border-radius: 0px;
  .icon-toggle-show {
    background-color: darken($f-color-red, 5%);
  }
  &:hover {
    background-color: darken($f-color-red, 3%);
  }
}

/* 右侧面板 */
.panel-right {
  @extend %fixed-full;
  left: auto;
  width: $left-width;
  background: #FFF;
  border-left: 1px solid $f-color-line;
  .panel-h {
    height: $panel-h-height;
    line-height: $panel-h-height;
    background: #e9edf1;
    text-indent: 0px;
    font-size: 12px;
    text-align: center;
    color: #212121;
    font-weight: 300;
    border-bottom: 1px solid $f-color-line;
  }
  .panel-right-top {
    height: $top-height;
    text-align: center;
  }
  .handle-menu {
    height: $header-height;
    .btn-toggle-analysis {
      @extend %btn-toggle;
      margin: 12px auto;
      .icon-toggle-show {
        background-image: url(../../img/main/icon-list.png);
      }
      &.show-analysis {
        background-color: #1392D8;
        .icon-toggle-show {
        }
      }
    }
  }
  /* 事件属性、主体属性、客体属性（条件筛选） */
  .panel-attrs-conditions {
    position:relative;
	height: $panel-h-height;
	@extend %transition-quick;
	.panel-h{
	  cursor:pointer;
	  i{
		position:absolute;
		top:5px;
		right:5px;
		width:34px;
		height:34px;
		@extend %transition-quick;
		@include transform(rotate(90deg));
		&:before{ content:" "; position:absolute; top:14px; right:11px; @include triangle(bottom, #ccc, 6px); }
	  }
	  &:hover{
		i{
		  @include transform(rotate(0deg));
		  &:before{ }
		}
	  }
	}
	&.unfold{
	  .panel-h{
		i{
		  @include transform(rotate(0deg));
		}
	  }
	}
    .panel-body{
    }
  }
  .panel-attrs-event {
  }
  .panel-attrs-subject {
  }
  .panel-attrs-object {
  }
}

/* 右侧分析列表面板 */
$panel-color: #8C8C8C;
.analysis-list-panel {
  overflow: auto;
  $panel-width: 200px;
  @extend %transition-quick;
  @extend %abs-rb;
  top: $top-height;
  right: -$panel-width;
  z-index: 99;
  width: $panel-width;
  border: $panel-border;
  border-width: 1px 0 0 1px;
  background-color: #fff;
  color: $panel-color;
  &.show-analysis {
    @include box-shadow(-1px 2px 4px rgba(0, 0, 0, .2));
    right: -1px;
  }
  ul {
    overflow: auto;
    width: 100%;
    height: 100%;
  }
  li {
    border-bottom: 1px solid #F0F0F0;
    line-height: 18px;
    a {
      display: block;
      padding: 7px 12px;
      text-decoration: none;
      color: $panel-color;
      &:hover {
        background-color: $green-color;
        color: #fff;
      }
    }
  }
}

/* 中间主面板 */
$pmh-height: $top-height + $h-height;
.panel-main {
  @extend %fixed-tl;
  left: $left-width;
  right: $right-width;
  bottom: $bottom-height;
  padding: $pmh-height 0 $bottom-height 0;
  height: 100%;
  background-color: #fff;
  .panel-main-header {
    @extend %abs-full;
    bottom: auto;
    @include box-shadow($h-box-shadow);
    border-bottom: 1px solid $f-color-line;
    height: $pmh-height;
    background-color: #FFF;
    .analysis-title {
      padding: 8px 0px 5px;
      background: $f-color-top;
      border-bottom: 1px solid $f-color-line;
      label {
        display: block;
        margin: 0;
        line-height: 28px;
        position: relative;
        padding-left: 8px;
        &>.tooltip{
          left: 9px!important;
        }
        span {
          
        }
        input {
          border: 1px solid #d2d8db;
          padding: 0 10px;
          width: 50%;
          height: 30px;
          background: $body-bgc;
          font-weight:300;
          background: #FFF;
          &:hover {
            background: #FFF;
          }
          
        }
        .analysis-menu {
          position: absolute;
          top: -8px;
          right: 0px;
          height: 43px;
          line-height: 43px;
          display: inline-block;
          right: 0px;
          padding-right: 10px;

          li {
            float: left;
            color: #6b7074;

            a {
              width: 40px;
              height: 40px;
              background: center center no-repeat;
              display: block;
              color: #9aa3a9;
              padding-top: 5px;
              line-height: 36px;
              text-align: center;
              font-size: 18px;

              &:hover {
                color: $f-color-blue;
                text-decoration: none;
              }
            }
          }
          .icon-save {
              font-size: 18px;
              width: 20px;
              height: 15px;
              margin-top: 14px;
              background: url(../../img/main/save_icon.png);
              
              &:hover{
                  background: url(../../img/main/save_icon_hover.png);
              }
              
    	        &.icon-loading{
    			         &:before{ visibility:hidden; }
    			         background: url(../../img/loading/save_loading.gif) center no-repeat;
    	        }
          }
          .icon-reset {
            font-size: 18px;
          }
          .icon-list {
            font-size: 18px;
          }
        }
      }
    }
  }
  /* 显示时间跨度对比 */
  &.show-date-range-compare {
    .panel-charts-toolbar {
      .date-range-compare {
        .label-date-range {
          display: block;
        }
        .btn-toggle-compare {
          .icon-toggle-show {
            background-image: url(../../img/main/icon-minus.png);
          }
        }
      }
    }
    .panel-charts {
      .panel-table {
        .table-main-header {
          .date-range-tab {
            display: block;
          }
          .label-search {
            .input-search {
              padding-right: 0;
              width: 0px;
            }
          }
        }
      }
    }
  }

  /* 图表工具面板 */
  .panel-charts-toolbar {
    position: relative;
    padding: 6px;
    li {
      cursor: pointer;
    }
    /* 图表类型切换按钮 */
    .charts-type-menu {
      float: left;
      a {
        width: 30px;
        height: 30px;
        display: inline;
        float: left;
        margin: 0 10px 0 0;
        line-height: 30px;
        text-align: center;
        font-weight: 300;
        color: #c2c2c2;
        text-decoration: none;
        font-size: 18px;

        &:hover {
          color: #5082ad;
        }
        &.actived {
          color: #5082ad;
        }
      }
      .icon-diagram {
        //background-image: url(../../img/main/diagram.png);
      }
      // 线图
      .icon-histogram {
        //background-image: url(../../img/main/histogram.png);
      }
      // 柱状图
      .icon-piechart {
        //background-image: url(../../img/main/piechart.png);
      }
      // 饼图
      .icon-funnel {
        //background-image: url(../../img/main/funnel.png);
      }
      // 漏斗图
      .icon-map {
        //background-image: url(../../img/main/map.png);
      }
      // 地图
      .icon-rel {
        //background-image: url(../../img/main/spread.png);
      }
      //传播
      .icon-table {
        //background-image: url(../../img/main/table.png);
      }
      // 表格
    }
    /* 时间轴单位切换选项（小时、天、周、月） */
    .time-axis-units {
      position: relative;
      float: right;
      margin-left: 6px;
      @include inline-block;
      height: 30px;
      line-height: 30px;
      background-color: $f-color-top;
      label {
        float: left;
        padding: 0 10px;
        font-weight: normal;
        cursor: pointer;
        color: $f-color-top-font;
        input {
          position: absolute;
          @include opacity(0);
          cursor: pointer;
        }
        &:first-child {
          border-left: none;
        }
        &:hover {
          background-color: nth($f-color-left, 1);
        }
        &.label-checked {
          background-color: $f-color-red;
          color: #fff;
        }
      }
      //&:before{ content:" "; position:absolute; top:10%; left:-16px; width:0; height:80%; border-right:$box-border; }
    }
    /* 时间跨度对比 */
    .date-range-compare {
      position: relative;
      float: right;
      .label-date-range {
        position: relative;
        float: right;
        margin: 0 8px 0 0;
      }
      .label-date-range-1 {
      }
      .label-date-range-2 {
        display: none;
      }
      .input-date-range {
        display: block;
        padding: 8px;
        padding-left: 26px;
        text-align: center;
        width: 186px;
        height: 30px;
        line-height: 28px;
        border: 1px solid #d3dbe0;
        background-color: #fff;
        font-weight: normal;
        cursor: pointer;
        color: #bababa;
        &:hover, &:focus, &.actived {
          border-color: $f-color-red;
          color: $f-color-red;
        }
      }
      .icon-date-picker {
        position: absolute;
        top: 7px;
        left: 10px;
        @include icon(16px);
        background-image: url(../../img/main/date-picker.png);
        cursor: pointer;
      }
      .btn-toggle-compare {
        @extend %btn-toggle;
        float: right;
        margin: 1px 0 0;
        padding: 0px 20px 0px 30px;
        height: 28px;
        line-height: 26px;
        .icon-toggle-show {
          position: absolute;
          width: 11px;
          height: 11px;
          margin-top: 8px;
          margin-left: -15px;
          background: url(../../img/main/icon-plus.png) center center no-repeat;
        }
      }
    }
  }
  /* 图表面板 */
  .panel-charts {
    position: relative;
    height: 100%;
    %panel {
      visibility: hidden;
      position: absolute;
      top: 0;
      float: left;
      padding: 8px;
      width: 50%;
      height: 100%;
      background-color: #fff;
    }
    %main {
      position: relative;
      height: 100%;
    }
    /* echarts图表面板 */
    .panel-echarts {
      @extend %panel;
      left: 0;
      position: relative;
      .echarts-main-toolbar {
        position: absolute;
        padding: 12px 10px 0;
        right: 8px;
        top: 8px;
        a {
          @extend %icon-16;
          @include opacity(0.3);
          margin: 8px 0px;
          &:hover {
            @include opacity(0.8);
          }
          &.actived {
            @include opacity(0.8);
          }
        }
        .icon-diagram {
          background-image: url(../../img/main/diagram.png);
        }
        // 线图
        .icon-histogram {
          background-image: url(../../img/main/histogram.png);
        }
        // 柱状图
        .icon-pie {
          background-image: url(../../img/main/piechart.png);
        }
        // 饼图
        .icon-funnel {
          background-image: url(../../img/main/funnel.png);
        }
        // 漏斗图
      }
      &.echarts-disable {
        .echarts-none {
          display: block;
          text-align: center;
          position: absolute;
          top: 49%;
          width: 100%;
          font-size: 14px;
          font-weight: bold;
          z-index: 1000;
        }
        .echart-tab{
          display: none;
        }
      }
      .echarts-none {
        display: none
      }
      .pie-range-warp{
        display: none;
        position: absolute;
        bottom: 10%;
        left: 0;
        width: 100%;
        .source-date{
          position: absolute;
          left: 15%;
        }
        .compare-date{
          position: absolute;
          right: 15%;
        }
      }
      &.actived {
        visibility: visible;
      }
      .echarts-main {
        @extend %main;
      }
      .echart-tab {
        text-align: center;
        p {
          display: inline-block;
          height: 30px;
          text-align: center;
          padding: 0 12px;
          line-height: 30px;
          border: solid #a8b7c8 1px;
          background-color: #f6f8fa;
          cursor: pointer;
          &.actived {
            background-color: #2a313b;
            color: #ffffff;
            border: solid #2a313b 1px;
          }
          &:first-child{
            border-radius:3px 0 0 3px;
            border-right: 0;
          }
          &:last-child{
            border-radius:0 3px 3px 0;
            border-left: 0;
          }
        }
      }
    }
    /* 表格面板 */
    .panel-table {
      @extend %panel;
      right: 0;
      padding: 0px;
      border-left: 1px solid $f-color-line;
      &.actived {
        visibility: visible;
      }
      .table-main {
        @extend %main;
        height: 92%;
      }
      $tmh-height: 50px;
      .table-main-header {
        position: relative;
        padding: 5px;
        height: $tmh-height;
        background: #fbfbfb;
        border-bottom: $border1;
        .breadcrumb {
          background-color: #fff;
        }
        .date-range-tabs {
          float: left;
          a {
            float: right;
          }
        }
        .date-range-tab {
          position: relative;
          display: none;
          margin: 0 8px 0 0;
          padding: 0 10px;
          height: 30px;
          line-height: 28px;
          @include border-radius(2px);
          background-color: #eee;
          text-decoration: none;
          cursor: pointer;
          &:before {
            content: " ";
            @extend %bottom-triangle;
            position: absolute;
            top: 100%;
            left: 50%;
            margin: 0 0 0 -8px;
            display: none;
          }
          &:hover {
            &:before {
              display: block;
            }
          }
          &.actived {
            background-color: $green-color;
            color: #fff;
            &:before {
              display: block;
              border-top-color: $green-color;
            }
          }
        }
        .date-range-tab-1 {
        }
        .date-range-tab-2 {
          display: none;
        }
        $std-height: 24px;
        .condition-filter {
          position: absolute;
          top: 8px;
          right: 10px;
        }
        .label-search {
          position: relative;
          float: right;
          height: 28px;
          padding: 2px 0 0;
          .input-search {
            display: block;
            @extend %transition-quick;
            padding: 0 10px 0 26px;
            width: 200px;
            height: 30px;
            line-height: 28px;
            vertical-align: middle;
            border: 1px solid #d3dbe0;
            background-color: #fff;
            &:focus {
              width: 200px;
            }
            ::-webkit-input-placeholder {
              color: #bababa !important;
            }
            :-moz-placeholder {
              color: #bababa !important;
            }
            ::-moz-placeholder {
              color: #bababa !important;
            }
            :-ms-input-placeholder {
              color: #bababa !important;
            }
          }
          .icon-search {
            position: absolute;
            top: 8px;
            left: 6px;
            @extend %icon-16;
            background-image: url(../../img/main/icon-search.png);
          }
        }
        .label-checkbox-total {
          display: none;
          float: right;
          margin: 0 0 0 10px;
          line-height: 28px;
        }
        .checkbox-total {
          margin: auto;
          vertical-align: middle;
        }
      }
      ///* 表格面板主体 */
      .table-main-body {
        @extend %abs-full;
        top: $tmh-height;
        overflow: auto;
        .table-wrapper {
          height: 100%;
          position: relative;
          table {
            margin: -1px 0 0 0;
          }
          th, td {
            white-space: nowrap;
          }
          thead {
            tr {
              background-color: #f0f2f4;
            }
            th {
              border-top: $border1;
            }
          }
          tbody {
            tr:hover {
            }
          }
          .ratio {
            display: block;
          }
          .ratio-neg {
            color: #e55b41;
          }
          .ratio-pos {
            color: #0aa372;
          }
        }
      }
      .page-warp {
        padding: 12px 15px 0 15px;
        position: relative;
        ul {
          position: absolute;
          right: 15px;
          li {
            display: inline-block;
            cursor: pointer;
            &.pre-page, &.next-page, &.page-number {
              padding: 7px 10px;
              border: solid #e0e0e0 1px;
              background-color: #fcfcfc;
              margin-left: 10px;
            }
            &.pre-page.disabled, &.next-page.disabled {
              cursor: no-drop;
              border: solid #f0f2f4 1px;
              color: #e0e0e0;
            }
            &.page-number.actived {
              border: solid $f-color-red 1px;
              background-color: $f-color-red;
              color: #ffffff;
            }
            &.page-input-warp {
              padding: 0 5px 0 15px;
              cursor: default;
              input {
                width: 45px;
                height: 31px;
                line-height: 31px;
                padding: 0 10px;
                margin: 0 5px;
                border: solid $f-color-red 1px;
              }
            }
          }
        }
      }
      &.echarts-disable {
        .echarts-none {
          display: block;
          text-align: center;
          position: absolute;
          top: 49%;
          width: 100%;
          font-size: 14px;
          font-weight: bold;
          z-index: 1000;
        }
        .echart-tab{
          display: none;
        }
      }
      .echarts-none {
        display: none
      }
    }
    &.show-one-chart {
      %panel {
        padding: 8px;
        width: 100%;
      }
      .panel-echarts {
        @extend %panel;
      }
      .panel-table {
        @extend %panel;
      }
    }
  }
  .no-request{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1001;
    background-color: #ffffff;
    div{
      position: absolute;
      top: 50%;
      height: 60px;
      padding-top: 120px;
      width: 100%;
      margin-top: -90px;
      background:url("../../img/main/notApp.jpg") no-repeat center center;
      text-align: center;
      p{
        color: #B4B4B4;
        &.tips-text{
          color: #333333;
          padding-top: 10px;
          margin-bottom: 5px;
        }
      }
    }
  }
  .request-data-prompt{ @extend %transition-quick; @include transform(scale(2, 2)); @include opacity(0); @extend %abs-full;  top:$pmh-height; z-index:1001; background:#fff; pointer-events:none;
    &.invalid{ @include transform(scale(1, 1)); @include opacity(1); pointer-events:auto; }
    .content{ position:absolute; top:50%; left:0; margin-top:-160px; padding-top:120px; width:100%; background:url("../../img/main/notApp.jpg") no-repeat 50% 0; text-align:center; line-height:2em; color:#B4B4B4; }
	.invalid-text{ color:#333; font-size:14px; }
	.prompt-text{}
  }
}

///* 底部属性面板 */
$db-width: 120px;
$db-height: 30px;
.panel-bottom {
  @extend %transition-quick;
  @extend %fixed-bl;
  left: $left-width;
  right: $right-width;
  height: $bottom-height;
  background-color: #FFF;
  border-top: 1px solid $f-color-line;
  //&:hover, &.actived{ height:38%; }
  .tooltip{
    left: 16px!important;
  }
  .thumbtack{
	  display:none;
		content:" ";
		position:absolute;
		top:6px;
		right:6px;
		z-index:9;
		width:16px;
		height:16px;
		@include opacity(0);
		background:url(../../img/main/thumbtack.png) no-repeat 50%;
		@include transform(rotate(45deg));
		cursor:pointer;
  }
  &.filter-events-hint, &.filter-conditions-hint {
  }
    &.filter-events-hint {
      .panel-filter-events {
        width: 100%!important;
      }
      .panel-filter-attrs {
        width: 0%!important;
      }
      .panel-filter-conditions {
        width: 0%!important;
      }
	}
    &.filter-conditions-hint {
      .panel-filter-events {
        width: 0%!important;
      }
      .panel-filter-attrs {
        width: 50%!important;
      }
	}
    &.filter-conditions-hint {
      .panel-filter-events {
        width: 0%!important;
      }
      .panel-filter-attrs {
        width: 50%!important;
      }
	}
}

%panel-filter {
  @extend %transition-quick;
  position: relative;
  overflow: hidden;
  height: 100%;
  ///* 拖拽元素时提示可放置区域 */
  &.drop-hint {
    z-index: 9;
    outline-offset: -1px;
    outline: 3px dashed transparent;
    @include animation(drop-hint .38s ease-in-out 0s infinite alternate);
  }
  ///* 拖拽元素时提示鼠标已进入可放置区域 */
  &.drop-ready {
    z-index: 10;
    @include animation(none);
    outline: 3px solid #f60;
  }
}

///* 用户行为筛选 */
.panel-filter-events {
  @extend %panel-filter;
  float: left;
  width: 20%;
  border-right: 1px solid #dfe2e3;
  .dropdown-subitem {
    display: none;
  }
}

///* 属性筛选 */
.panel-filter-attrs {
  @extend %panel-filter;
  float: left;
  width: 20%;
  border-right: $panel-border;
  .filter-option-list {
    .li-btn-item {
      width: $db-width;
    }
    .condition-btn {
      margin: auto;
    }
  }
}

///* 条件筛选 */
.panel-filter-conditions {
  @extend %panel-filter;
  $border: 1px solid #ccc;
  .filter-option-list {
    &:before {
      display: none;
      content: " ";
      position: absolute;
      border: $border;
      border-right: none;
      top: 25px;
      bottom: 17px;
      left: 23px;
      width: 28px;
    }
  }
  .li-btn-item{ white-space:nowrap;}
  .options-relation-btn {
    display: none;
    position: absolute;
    top: 66px;
    left: 10px;
    z-index: 2;
    @include border-radius(2px);
    width: 28px;
    height: 28px;
    border: $border;
    background-color: #fff;
    cursor: pointer;
    &:hover {
      @extend %box-shadow;
    }
  }
  .linkage-box {
    @include inline-block;
    margin-left: 3px;
    vertical-align: top;
    input {
      margin: 0;
      padding: 2px;
      border: $box-border;
      height: 30px;
    }
    input[type=text] {
      width: 150px;
    }
    input[data-type=date] {
      width: 80px;
    }
    input[data-type=date-range] {
      width: 160px;
    }
    input[type=number] {
      width: 94px;
    }
    &.dropdown-wrapper {
      margin-left: 0;
      .selected-option {
        .remove {
        }
      }
      input {
        border: none;
        width: 150px;
        height: 24px;
      }
    }
  }
  input[type^=date]{ width:120px; }
}

.show-options-relation {
  .filter-option-list {
    padding-left: 50px;
    &:before {
      display: block;
    }
  }
  .options-relation-btn {
    display: block;
  }
}

.panel-body {
  overflow: auto;
  @extend %abs-full;
  top: $h-height + 13;
  padding: 0;
  &:before, &:after {
    content: normal;
  }
}

///* 条件和属性筛选列表 */
%li-btn-item {
  position: relative;
  width: $db-width;
  padding: 0px;
}

%condition-btn {
  position: relative;
  @extend %li-btn-item;
  outline: none;
  border: 0px;
  color: #FFF;
  line-height: 28px;
  cursor: pointer;
}

.drag-btn-list, .filter-option-list {
  position: relative;
  padding: 5px 10px;
  .li-btn-item {
    @extend %li-btn-item;
    margin: 10px auto;
    min-width: $db-width;
  }
}

.condition-btn, .clone-condition-btn {
  @extend %condition-btn;
  background: nth($f-color-btn, 1);
  border: 1px solid #d7d7d7;
  border-radius: 2px;
  color: #212121;
  span {
    @extend %text-ellipsis;
    display: block;
    text-align: left;
    &:before {
      @extend %transition-quick;
      margin-right: 10px;
      float: left;
      width: 30px;
      height: 100%;
      line-height: 30px;
      text-align: center;
      font-style: normal;
      font-size: 14px;
      font-family: Times, "Times New Roman", Cambria, "Hoefler Text", "Liberation Serif", serif;
      background: nth($f-color-btn, 2);
    }
  }
  &:hover {
    border: 1px solid $f-color-red;
    color: #FFF;
    background: $f-color-red;
  }
  &:active{
    color: #FFF;
  }
  &:hover span:before {
    margin-left: -30px;
  }
  &.e-btn span:before {
    content: "E";
  }
  &.b-btn span:before {
    content: "B";
  }
  &.u-btn span:before {
    content: "U";
  }
  &[data-bname^=actions] span:before {
    content: "E";
  }
  &[data-bname^=actionAttrs] span:before {
    content: "B";
  }
  &[data-bname^=userAttrs] span:before {
    content: "U";
  }
}

%drag-btn {
  background: $f-color-red;
  span:before {
    margin-left: -30px;
  }
}

.drag-btn-item {
  .condition-btn {
    @extend %drag-btn;
  }
}

.clone-condition-btn {
  position: absolute;
  top: 0;
  left: 0;
  @include box-shadow(3px 3px 8px rgba(0, 0, 0, .2));
  &.add-condition-btn {
    @extend %transition-quick;
  }
  &.dom-drag-target {
    @extend %drag-btn;
    @include opacity(.62);
  }
}

.li-btn-item {
  list-style: none;
  &.dom-drag-target {
    position: absolute;
    top: 0;
    left: 0;
    @include opacity(.62);
    .condition-btn {
      @extend %drag-btn;
    }
	.linkage-box{
		vertical-align:top;
		@include inline-block;
	}
  }
}

.drag-btn-list {
  .condition-btn {
    /* 按钮禁用拖拽 */
    &.dom-dragdisable {
    }
  }
  .li-btn-item {
    &.drag-btn-item {
      .condition-btn {
        /*@extend %transition-quick; @include opacity(0);*/
      }
    }
  }
}

/* 筛选列表 */
.filter-option-list {
  padding: 2px 10px;
  white-space: nowrap;
  .li-btn-item {
    @include box-shadow(inset 2px 2px 6px rgba(0, 0, 0, .1));
    background-color: $body-bgc;
    margin: 8px auto auto;
    padding: 1px;
    float: left;
    clear: left;
    width: auto;
    height: $db-height + 2;
    &.hint-option {
      .condition-btn {
        visibility: hidden;
      }
      .icon-remove {
        display: none;
      }
    }
    &.drag-btn-item {
      > * {
        visibility: hidden;
      }
    }
  }
  .condition-btn {
    @include inline-block;
    @include box-shadow(none);
  }
  .icon-remove {
    @include icon(24px, 28px);
    position: absolute;
    top: 50%;
    left: 100%;
    margin: -15px 0 0;
    cursor: pointer;
    background-image: url(../../img/main/icon-delete-sm.png);
    &:hover {
      background-image: url(../../img/main/icon-delete-sm-hover.png);
    }
  }
  .dropdown-select {
    @include inline-block;
    vertical-align: top;
    color: #000000;
  }
  &:after {
    content: " ";
    display: block;
    clear: both;
    height: 0;
  }
}

.panel-filter-events {

  .panel-h {
    color: #9a9a9a;
  }

  .filter-option-list {
//    li:first-of-type:last-of-type {
//      .icon-remove {
//        display: none;
//      }
//    }
  }
}

/* 拖拽目标提示 */
@mixin prefixer-content($prefixes: $prefixes) {
  0% {
    outline-color: #f90;
  }
  100% {
    outline-color: transparent;
  }
}

@include keyframes-prefixer-content(drop-hint);

/* 行为事件分析 */
$min-width: 176px;
// 单属性宽度（无关联选项）
//.panel-filter-events{ width:20%; }
//.panel-filter-attrs{ width:20%; }
#Event_analysis, #Funnel_analysis {
  .panel-filter-events {
    width: 25%;
  }
  .label-checkbox-total {
    display: block;
  }
}

%actived-panel-h {
  font-weight: bold;
  color: #414141;
}

.filter-events-actived, .filter-events-mouseenter {
  .panel-filter-events {
    .panel-h {
      @extend %actived-panel-h;
    }
  }
}

.filter-events-mouseenter .panel-filter-events,
.filter-attrs-mouseenter .panel-filter-attrs,
.filter-conditions-mouseenter .panel-filter-conditions{
	.thumbtack{ pointer-events:none; display:block; @include opacity(.2) };
}
.filter-events-actived .panel-filter-events,
.filter-attrs-actived .panel-filter-attrs,
.filter-conditions-actived .panel-filter-conditions{
	.thumbtack{ display:block; @include opacity(1) };
}

.filter-attrs-actived, .filter-attrs-mouseenter {
  .panel-filter-attrs {
    .panel-h {
      @extend %actived-panel-h;
    }
  }
}

.filter-conditions-actived, .filter-conditions-mouseenter {
  .panel-filter-conditions {
    .panel-h {
      @extend %actived-panel-h;
    }
  }
}

/* 1680*1050 | 1600*900 */
@media (max-width: 1679px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter, .filter-events-mouseenter {
      .panel-filter-events {
        width: 30%;
      }
    }
    /*.filter-attrs-hint, */
    .filter-conditions-hint, /*.filter-attrs-actived, .filter-attrs-mouseenter, .filter-attrs-mouseenter, */
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 20%;
      }
    }
  }
}

/* 1440*900 */
@media (max-width: 1439px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: 30%;
      }
    }
    /*.filter-attrs-hint, */
    .filter-conditions-hint, /*.filter-attrs-actived, .filter-attrs-mouseenter, */
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 20%;
      }
    }
  }
}

/* 1366*768 | 1364*768 */
@media (max-width: 1363px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: 35%;
      }
    }
    /*.filter-attrs-hint, */
    .filter-conditions-hint, /*.filter-attrs-actived, .filter-attrs-mouseenter, */
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 20%;
      }
    }
  }
}

/* 1280*1024 | 1280*800 | 1280*720 */
@media (max-width: 1279px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: 40%;
      }
      .panel-filter-attrs {
        width: 20%;
      }
    }
    .filter-attrs-hint, .filter-conditions-hint {
      .panel-filter-events {
        width: 15%;
      }
      .panel-filter-attrs {
        width: 20%;
      }
    }
    .filter-attrs-actived, .filter-attrs-mouseenter {
      .panel-filter-events {
        width: 35%;
      }
      .panel-filter-attrs {
        width: 20%;
      }
    }
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 20%;
      }
      .panel-filter-attrs {
        width: 15%;
      }
    }
  }
}

/* 1152*864 */
@media (max-width: 1151px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: 50%;
      }
      .panel-filter-attrs {
        width: 20%;
      }
    }
    .filter-attrs-hint, .filter-conditions-hint {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: 25%;
      }
    }
    .filter-attrs-actived, .filter-attrs-mouseenter {
      .panel-filter-events {
        width: 30%;
      }
      .panel-filter-attrs {
        width: 25%;
      }
    }
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 15%;
      }
      .panel-filter-attrs {
        width: 10%;
      }
    }
  }
}

/* 1024*768 */
@media (max-width: 1023px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: 60%;
      }
      .panel-filter-attrs {
        width: 15%;
      }
    }
    .filter-attrs-hint, .filter-conditions-hint {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: 36%;
      }
    }
    .filter-attrs-actived, .filter-attrs-mouseenter {
      .panel-filter-events {
        width: 30%;
      }
      .panel-filter-attrs {
        width: 36%;
      }
    }
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: 10%;
      }
    }
  }
}

@media (max-width: 799px) {
  #Event_analysis, #Funnel_analysis, #Worth_analysis {
    .filter-attrs-hint, .filter-conditions-hint, .filter-attrs-actived, .filter-attrs-mouseenter, .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events {
        width: 10%;
      }
    }
  }
}

/* 漏斗分析 */
#Funnel_analysis, #Retained_analysis, #Revisit_analysis {
  .date-option-menu, .btn-toggle-compare, .label-date-range-2, .date-range-tabs {
    display: none;
  }
  .table-main-header {
    display: none;
  }
  .table-main-body {
    top: 0 !important;
  }
}

#Funnel_analysis {
  .analysis-title {
    padding-right: 10px;
  }
  .label-date-range-1 {
    margin: 0;
  }
  .time-axis-units {
    padding: 0 10px;
  }
  .funnel-window-period {
    margin-left: 3px;
    color: #343739;
    option {
    }
  }
  .panel-filter-events {
    width: 25%;
    .filter-option-list {
      .li-btn-item {
        list-style: decimal outside;
        margin-left: 2em;
      }
    }
  }
}

/* 1680*1050 | 1600*900 */
@media (max-width: 1679px) {
}

/* 1440*900 */
@media (max-width: 1439px) {
}

/* 1366*768 | 1364*768 */
@media (max-width: 1363px) {
}

/* 1280*1024 | 1280*800 | 1280*720 */
@media (max-width: 1279px) {
}

/* 1152*864 */
@media (max-width: 1151px) {
}

/* 1024*768 */
@media (max-width: 1023px) {
}

@media (max-width: 799px) {
}

/* 留存分析 */
#Retained_analysis {
  .date-option-menu, .btn-toggle-compare, .label-date-range-2 {
    display: none;
  }
  .panel-filter-events {
    .filter-option-list {
      .li-btn-item {
        margin-left: 2.5em;
        &:last-child:before {
          content: "后续";
          position: absolute;
          top: .5em;
          left: -2.5em;
        }
        &:first-child:before {
          content: "初始";
          position: absolute;
          top: .5em;
          left: -2.5em;
        }
      }
    }
  }
}

/* 1680*1050 | 1600*900 */
@media (max-width: 1679px) {
  #Retained_analysis, #Revisit_analysis {
  }
}

/* 1440*900 */
@media (max-width: 1439px) {
  #Retained_analysis, #Revisit_analysis {
  }
}

/* 1366*768 | 1364*768 */
@media (max-width: 1363px) {
  #Retained_analysis, #Revisit_analysis {
  }
}

/* 1280*1024 | 1280*800 | 1280*720 */
@media (max-width: 1279px) {
  #Retained_analysis, #Revisit_analysis {
    .panel-filter-events, .panel-filter-attrs {
      width: 22%;
    }
  }
}

/* 1152*864 */
@media (max-width: 1151px) {
  #Retained_analysis, #Revisit_analysis {
    .panel-filter-events, .panel-filter-attrs {
      width: 26%;
    }
    .filter-conditions-hint {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: 26%;
      }
    }
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events, .panel-filter-attrs {
        width: 15%;
      }
    }
  }
}

/* 1024*768 */
@media (max-width: 1023px) {
  #Retained_analysis, #Revisit_analysis {
    .panel-filter-events, .panel-filter-attrs {
      width: 25%;
    }
    .filter-events-hint, .filter-events-actived, .filter-events-mouseenter {
      .panel-filter-events {
        width: $min-width;
      }
    }
    .filter-conditions-hint {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: $min-width;
      }
    }
    .filter-attrs-actived, .filter-attrs-mouseenter {
      .panel-filter-events {
        width: 10%;
      }
      .panel-filter-attrs {
        width: $min-width;
      }
    }
    .filter-conditions-actived, .filter-conditions-mouseenter {
      .panel-filter-events, .panel-filter-attrs {
        width: 10%;
      }
    }
  }
}

@media (max-width: 799px) {
  #Retained_analysis, #Revisit_analysis {
  }
}

/* 回访频率 */
#Revisit_analysis {
  .panel-table {
    width: 100%;
  }
}

/* 传播分析 */
#Spread_analysis {
}

/* 主面板响应式 */
@media (max-width: 1279px) {
  .panel-main {
    .panel-main-header {
      .analysis-title {
        label {
        }
      }
    }
    .panel-charts-toolbar {
      .time-axis-units {
        &:before {
          display: none;
        }
      }
      .date-range-compare {
        margin-left: -100%;
        .btn-toggle-compare {
          width: 50px;
          padding: 0px 20px 0px 20px;
        }
        .input-date-range {
          //width: 170px;
        }

        .label-date-range-2 {
          //position: absolute;
          //margin-top: -29px;
        }
      }
    }
    .panel-charts {
      .panel-echarts, .panel-table {
        padding: 8px;
        width: 100%;
      }
      .panel-echarts {
      }
      .panel-table {
      }
    }
    .panel-charts-toolbar {
      .charts-type-menu {
        a {
          margin: 0px;
        }
      }
    }
  }
  .panel-filter-events {
  }
  .panel-filter-attrs {
  }
  .panel-filter-conditions {
  }
}

@media (max-width: 1023px) {
  .panel-main {
    .panel-charts-toolbar {
      .date-range-compare {
        .btn-toggle-compare {
          position: relative;
          vertical-align: top;
          .icon-toggle-show {
            position: absolute;
            top: 0px;
            left: 20px;
          }
        }
      }
    }
  }
}

/* 媒体查询，窄屏遮罩提示 */
.media-query-warning {
  display: none;
  @extend %abs-full;
  z-index: 32767;
  background-color: #FF8000;
  color: #fff;
  font-size: 18px;
  line-height: 30px;
  @include opacity(.9);
  .content {
    position: absolute;
    top: 50%;
    left: 0;
    margin: -200px 0 0 0;
    padding: 20px;
    width: 100%;
    h2 {
      margin: 20px auto;
      font-size: 24px;
    }
    p {
    }
  }
}

@media (max-width: 799px) {
  .media-query-warning {
    display: block;
  }
}
@include scrollbar();
@import "../../../scss/widget/prompt-box";
@import "../../../scss/widget/date-picker";
@import "../../../scss/widget/dropdown";
@import "../../../scss/widget/dropdown-picker";

.funnel-header{
  width: 100%;
  th{
    text-align: center;
    height: 60px;
    font-size: 12px;
    .total-bt{
      background: #f6f8fa;
      border: 1px solid #a8b7c8;
      border-radius: 3px;
      padding: 0 15px;
      display: inline-block;
      height: 32px;
      line-height: 30px;
      min-width: 36px;
      color: #4c535a;
      cursor: pointer;
      &:hover{
        border: 1px solid #4a90e2;
      }
      &.actived{
        background-color: #00b27a;
        color: #ffffff;
      }
    }
    .group-name{
      display: inline-block;
      cursor: pointer;
      &:hover,&.actived{
        border-bottom: solid #4a90e2 1px;
        color: #00008B;
      }
    }
    .step-arrow{
      background: #ffffff;
      border: 1px solid #4a90e2;
      padding: 0 10px;
      display: inline-block;
      height: 32px;
      line-height: 30px;
      color: #4a90e2;
      cursor: pointer;
      &:hover{
        background-color: #4a90e2;
        color: #ffffff;
      }
      &.actived{
        border:solid #00b27a 1px;
        background-color: #00b27a;
        color: #ffffff;
      }
    }
  }
}
.grid-table {
  width: 100%;
  background-color: #ffffff;
  th[role="dataSort"] {
    position: relative;
    cursor: pointer;
  }
  th[role="dataSort"]:before, th[role="dataSort"]:after {
    width: 0;
    height: 0;
    border-style: solid;
    content: "";
    position: absolute;
    right: 7px;
    top: 50%;
  }
  th[role="dataSort"]:before {
    border-width: 0 6px 5px 6px;
    border-color: transparent transparent #abaeae transparent;
    margin-top: -6px;
  }
  th[role="dataSort"]:after {
    border-width: 5px 6px 0 6px;
    border-color: #abaeae transparent transparent transparent;
    margin-top: 2px;
  }
  th.sort-up[role="dataSort"]:before {
    border-bottom-color: #4a90e2;
  }
  th.sort-down[role="dataSort"]:after {
    border-top-color: #4a90e2;
  }
  td, th {
    padding: 15px;
    text-align: center;
    vertical-align: middle !important;
    border-right: $border1;
  }
  tbody {
    tr {
      border-bottom: $border1;
      /*      &:last-child{border-bottom: none;}*/
      td, th {
        border-top: 0px;
      }
    }
    tr:nth-child(odd) {
      background-color: #ffffff;
    }
    tr:nth-child(even) {
      background-color: #f9fbfc;
    }
    tr:hover {
    }
    &.total {
      tr:last-child {
        border-bottom: $box-border;
      }
      .total-name {
        border-bottom: $box-border;
      }
      tr:nth-child(odd) {
        background-color: #fffbe6;
      }
      tr:nth-child(even) {
        background-color: #ffffff;
      }
    }
    .up {
      color: #e55b41
    }
    .down {
      color: #0aa372
    }
  }
  tfoot.main-footer{
    border-bottom: $box-border;
    background-color: #fffbe6;
    display: none;
  }
  thead tr {
    border-bottom: $box-border;
  }
  .total-num {
    font-weight: bold;
  }
  .sa-checkbox {
    input {
      vertical-align: top;
      margin-right: 10px;
      margin-top: 2px;
    }
    &.disabled {
      cursor: no-drop;
      color: #B4B4B4;
    }
  }
  .score{
    display: none;
  }
  &.show-score{
    .score{
      display: block;
    }
    .percentage{
      display: none;
    }
    & tfoot.main-footer{
      display: table-footer-group;
    }
  }
}

.loading-layer {
  @include absmiddle(126px, 126px);
  background: url(../../img/main/loading.gif) no-repeat top center;
}

.message-tips {
  width: 600px;
  position: absolute;
  height: 50px;
  line-height: 50px;
  top: -80px;
  left: 50%;
  margin-left: -300px;
  background-color: #4a90e2;
  font-weight: bold;
  font-size: 16px;
  text-align: center;
  color: #ffffff;
  border-radius: 5px;
}

.main-echarts-warp{
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
}
.compare-eacharts-warp{
  position: absolute;
  width: 50%;
  height: 100%;
  right: 0;
  display: none;
  border-left: solid #B4B4B4 1px;
}
.compare-radar .main-echarts-warp{
  width: 49%;
}
.compare-radar .compare-eacharts-warp{
  display: block;
}














